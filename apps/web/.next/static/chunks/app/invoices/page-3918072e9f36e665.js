(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[175],{555:(t,e,a)=>{"use strict";a.r(e),a.d(e,{default:()=>r});var n=a(5636),s=a(8408),o=a(9621);function r(){let[t,e]=(0,s.useState)([]),[a,r]=(0,s.useState)("");async function c(){e(await (0,o.Vg)("/invoices"))}return(0,s.useEffect)(()=>{c().catch(console.error)},[]),(0,n.jsxs)("div",{children:[(0,n.jsx)("h1",{className:"text-2xl font-semibold",children:"Invoices"}),(0,n.jsx)("div",{className:"mt-6 overflow-x-auto",children:(0,n.jsxs)("table",{className:"w-full text-sm",children:[(0,n.jsx)("thead",{children:(0,n.jsxs)("tr",{className:"text-left border-b",children:[(0,n.jsx)("th",{className:"py-2",children:"Period"}),(0,n.jsx)("th",{children:"Issue"}),(0,n.jsx)("th",{children:"Due"}),(0,n.jsx)("th",{children:"Total"}),(0,n.jsx)("th",{children:"Status"})]})}),(0,n.jsx)("tbody",{children:t.map(t=>(0,n.jsxs)("tr",{className:"border-b",children:[(0,n.jsxs)("td",{className:"py-2",children:[new Date(t.periodStart).toLocaleDateString()," â€“ ",new Date(t.periodEnd).toLocaleDateString()]}),(0,n.jsx)("td",{children:new Date(t.issueDate).toLocaleDateString()}),(0,n.jsx)("td",{children:new Date(t.dueDate).toLocaleDateString()}),(0,n.jsxs)("td",{children:["PGK ",Number(t.totalAmount).toFixed(2)]}),(0,n.jsx)("td",{children:t.status})]},t.id))})]})}),(0,n.jsx)("div",{className:"mt-6 text-sm text-gray-600",children:"Statements are generated automatically on the 1st of each month and emailed to the billing email address."})]})}},4443:(t,e,a)=>{Promise.resolve().then(a.bind(a,555))},9621:(t,e,a)=>{"use strict";a.d(e,{$P:()=>r,$Y:()=>c,Vg:()=>o});let n="http://localhost:4000";function s(){return localStorage.getItem("token")||""}async function o(t){let e=s(),a=await fetch("".concat(n).concat(t),{headers:e?{Authorization:"Bearer ".concat(e)}:void 0,cache:"no-store"});if(!a.ok)throw Error(await a.text());return a.json()}async function r(t,e){let a=s(),o=await fetch("".concat(n).concat(t),{method:"POST",headers:{"Content-Type":"application/json",...a?{Authorization:"Bearer ".concat(a)}:{}},body:JSON.stringify(e)});if(!o.ok)throw Error(await o.text());return o.json()}async function c(t,e){let a=s(),o=await fetch("".concat(n).concat(t),{method:"PATCH",headers:{"Content-Type":"application/json",...a?{Authorization:"Bearer ".concat(a)}:{}},body:JSON.stringify(e)});if(!o.ok)throw Error(await o.text());return o.json()}}},t=>{t.O(0,[64,960,358],()=>t(t.s=4443)),_N_E=t.O()}]);