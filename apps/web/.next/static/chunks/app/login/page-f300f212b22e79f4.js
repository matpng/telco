(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[520],{5510:(t,e,a)=>{Promise.resolve().then(a.bind(a,6428))},6428:(t,e,a)=>{"use strict";a.r(e),a.d(e,{default:()=>r});var n=a(5636),s=a(8408),o=a(9621);function r(){let[t,e]=(0,s.useState)("acme.admin@telcocredit.local"),[a,r]=(0,s.useState)("Admin123!"),[c,i]=(0,s.useState)("");async function l(){i("");try{let e=await (0,o.$P)("/auth/login",{email:t,password:a});localStorage.setItem("token",e.token),window.location.href="/"}catch(t){i(t.message||String(t))}}return(0,n.jsxs)("div",{className:"max-w-md",children:[(0,n.jsx)("h1",{className:"text-2xl font-semibold",children:"Login"}),(0,n.jsx)("p",{className:"text-sm text-gray-600 mt-1",children:"Starter auth. Replace with Keycloak/Auth247 for production."}),(0,n.jsxs)("div",{className:"mt-6 grid gap-3",children:[(0,n.jsxs)("label",{className:"grid gap-1",children:[(0,n.jsx)("span",{className:"text-sm",children:"Email"}),(0,n.jsx)("input",{className:"border rounded-lg p-2",value:t,onChange:t=>e(t.target.value)})]}),(0,n.jsxs)("label",{className:"grid gap-1",children:[(0,n.jsx)("span",{className:"text-sm",children:"Password"}),(0,n.jsx)("input",{className:"border rounded-lg p-2",type:"password",value:a,onChange:t=>r(t.target.value)})]}),(0,n.jsx)("button",{className:"rounded-lg bg-black text-white p-2",onClick:l,children:"Login"}),c?(0,n.jsx)("div",{className:"text-sm text-red-600",children:c}):null]})]})}},9621:(t,e,a)=>{"use strict";a.d(e,{$P:()=>r,$Y:()=>c,Vg:()=>o});let n="http://localhost:4000";function s(){return localStorage.getItem("token")||""}async function o(t){let e=s(),a=await fetch("".concat(n).concat(t),{headers:e?{Authorization:"Bearer ".concat(e)}:void 0,cache:"no-store"});if(!a.ok)throw Error(await a.text());return a.json()}async function r(t,e){let a=s(),o=await fetch("".concat(n).concat(t),{method:"POST",headers:{"Content-Type":"application/json",...a?{Authorization:"Bearer ".concat(a)}:{}},body:JSON.stringify(e)});if(!o.ok)throw Error(await o.text());return o.json()}async function c(t,e){let a=s(),o=await fetch("".concat(n).concat(t),{method:"PATCH",headers:{"Content-Type":"application/json",...a?{Authorization:"Bearer ".concat(a)}:{}},body:JSON.stringify(e)});if(!o.ok)throw Error(await o.text());return o.json()}}},t=>{t.O(0,[64,960,358],()=>t(t.s=5510)),_N_E=t.O()}]);